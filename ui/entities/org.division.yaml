version: 1

entities:
  org.division:
    meta:
      titleSingular: Division
      titlePlural: Divisions
      descriptionPlural: Manage organizational divisions
      routes:
        root: /admin
        list: /admin/org/divisions
        new: /admin/org/divisions/new
        detail: /admin/org/divisions/{id}
        edit: /admin/org/divisions/{id}/edit
      breadcrumbs:
        - { label: Admin, href: /admin }
        - { label: Divisions, href: /admin/org/divisions }
      actions:
        createLabel: Create Division
        editLabel: Edit Division
        saveCreateLabel: Create Division
        saveUpdateLabel: Update Division
        cancelLabel: Cancel
        deleteLabel: Delete
        deleteConfirmTitle: Delete Division
        deleteConfirmBody: Are you sure you want to delete "{name}"? This action cannot be undone.

    storage:
      drizzleTable: divisions

    list:
      tableId: admin.org.divisions
      platforms: [web]
      uiStateVersion: 1
      defaultVisibleOnly: true
      pageSize: 50
      initialSort:
        sortBy: createdAt
        sortOrder: desc
      sortWhitelist: [name, code, isActive, createdAt]
      initialColumnVisibility:
        name: true
        code: true
        managerUserKey: false
        isActive: true
        createdAt: false
      columns:
        - name
        - code
        - managerUserKey
        - isActive
        - createdAt
        - key: actions
          label: ""
          sortable: false
          hideable: false
          align: right

    detail:
      summaryFields:
        - name
        - code
        - managerUserKey
        - isActive
        - createdAt
        - updatedAt

    form:
      sections:
        - id: basic
          title: Basic
          layout: { columns: 2 }
          fields: [name, code, managerUserKey, isActive, parentId, description]

    fields:
      id: { type: text, label: ID, readOnly: true }
      name: { type: text, label: Name, required: true }
      code: { type: text, label: Code }
      description: { type: textarea, label: Description }
      parentId: { type: select, label: Parent Division, optionSource: org.divisions }
      managerUserKey:
        type: reference
        label: Manager
        reference: { entityType: auth.user }
      isActive: { type: boolean, label: Active }
      createdAt: { type: datetime, label: Created, readOnly: true }
      updatedAt: { type: datetime, label: Updated, readOnly: true }
