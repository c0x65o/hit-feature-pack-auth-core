version: 1

entities:
  auth.group:
    meta:
      titleSingular: Group
      titlePlural: Groups
      descriptionPlural: Manage user groups and memberships
      routes:
        root: /admin
        list: /admin/groups
        new: /admin/groups/new
        detail: /admin/groups/{id}
        edit: /admin/groups/{id}/edit
      breadcrumbs:
        - { label: Admin, href: /admin }
        - { label: Groups, href: /admin/groups }
      actions:
        createLabel: Create Group
        editLabel: Edit Group
        saveCreateLabel: Create Group
        saveUpdateLabel: Update Group
        cancelLabel: Cancel
        deleteLabel: Delete
        deleteConfirmTitle: Delete Group
        deleteConfirmBody: Are you sure you want to delete "{name}"? This action cannot be undone.

    storage:
      kind: remote

    list:
      tableId: admin.groups
      platforms: [web, mobile]
      uiStateVersion: 1
      defaultVisibleOnly: true
      mobileColumnKeys: [name, user_count, updated_at]
      pageSize: 50
      initialSort:
        sortBy: updated_at
        sortOrder: desc
      sortWhitelist: [name, user_count, created_at, updated_at]
      initialColumnVisibility:
        name: true
        kind: true
        description: false
        user_count: true
        created_at: false
        updated_at: true
      columns:
        - key: name
          label: Name
          sortable: true
          filterType: string
        - key: kind
          label: Type
        - key: description
          label: Description
        - key: user_count
          label: Members
          sortable: true
        - key: created_at
          label: Created
          sortable: true
        - key: updated_at
          label: Updated
          sortable: true
        - key: actions
          label: ""
          sortable: false
          hideable: false
          align: right

    detail:
      summaryFields: [name, kind, description, user_count, created_at, updated_at]

    form:
      sections:
        - id: group
          title: Group
          layout: { columns: 2 }
          fields: [name, kind, description, segment_key]

    fields:
      id: { type: text, label: ID, readOnly: true }
      name: { type: text, label: Group Name, required: true }
      description: { type: text, label: Description }
      kind: { type: select, label: Group Type, optionSource: auth.groupKinds }
      segment_key: { type: select, label: Segment, optionSource: auth.userSegments }
      user_count: { type: number, label: Members, readOnly: true }
      created_at: { type: datetime, label: Created, readOnly: true }
      updated_at: { type: datetime, label: Updated, readOnly: true }

